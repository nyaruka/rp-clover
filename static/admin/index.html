<!DOCTYPE html>
<html lang="en">

<head>
    <title>Clover Editor</title>
    <style type="text/css" media="screen">
        #editor {
            width: 100%;
            height: 800px;
            border: 1px solid #ccc;
            margin-bottom: 5px;
        }

        #errors {
            border: 1px solid red;
            padding: 5px;
            margin-bottom: 5px;
            white-space: pre-line;
        }

        #message {
            border: 1px solid green;
            padding: 5px;
            margin-bottom: 5px;
        }
    </style>
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div>Clover Configuration</div>
        <form id="form" method="POST">
            <div id="editor">{{.config}}</div>
            <input id="config" name="config" type="hidden" /> {{ if .error }}
            <div id="errors">{{.error}}</div>{{ end }} {{ if .message }}
            <div id="message">{{.message}}</div>
            {{ end }}
            <input type="submit" class="button button-primary" />
        </form>
    </div>
</body>

<script>
    var editor = ace.edit("editor");
    var config = $("#config");
    editor.setShowPrintMargin(false);
    editor.setTheme("ace/theme/textmate");
    editor.session.setMode("ace/mode/json");
    $("form").submit(function () {
        config.val(editor.session.getValue());
    });
</script>

</html>